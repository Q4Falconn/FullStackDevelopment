(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(4070)}])},4070:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var r=t(5893),u=t(1664),s=t.n(u),i=t(1163),o=t(7294),a=t(9133),c=t(6149);function l(){var e;let n=(0,a.T)(),{status:t,error:u,isAuthenticated:l}=(0,a.C)(e=>e.auth),[d,h]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),x=(0,i.useRouter)(),_=null!==(e=x.query.redirect)&&void 0!==e?e:"/";async function j(e){e.preventDefault();try{let e=await n((0,c.x4)({username:d,password:f})).unwrap();(null==e?void 0:e.token)&&(document.cookie="auth_token=".concat(e.token,"; path=/")),x.replace(_)}catch(e){}}return(0,o.useEffect)(()=>{l&&x.replace(_)},[l,_,x]),(0,r.jsxs)("div",{style:{maxWidth:420},children:[(0,r.jsx)("h2",{children:"Login"}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("label",{children:["Username",(0,r.jsx)("input",{value:d,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("label",{children:["Password",(0,r.jsx)("input",{type:"password",value:f,onChange:e=>p(e.target.value)})]}),(0,r.jsx)("button",{disabled:"loading"===t,type:"submit",children:"Login"}),u&&(0,r.jsx)("p",{style:{color:"crimson"},children:u})]}),(0,r.jsxs)("p",{children:["No account? ",(0,r.jsx)(s(),{href:"/register",children:"Register"})]})]})}},1163:function(e,n,t){e.exports=t(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);