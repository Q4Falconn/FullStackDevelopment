(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(7663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(7143)}])},8199:function(e,t){"use strict";var r,n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return f},ACTION_NAVIGATE:function(){return u},ACTION_PREFETCH:function(){return c},ACTION_REFRESH:function(){return a},ACTION_RESTORE:function(){return s},ACTION_SERVER_ACTION:function(){return d},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return r},isThenable:function(){return p}});let a="refresh",u="navigate",s="restore",l="server-patch",c="prefetch",f="fast-refresh",d="server-action";function p(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(o=r||(r={})).AUTO="auto",o.FULL="full",o.TEMPORARY="temporary",(i=n||(n={})).fresh="fresh",i.reusable="reusable",i.expired="expired",i.stale="stale",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7195:function(e,t,r){"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(8337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _}});let n=r(8754),o=r(5893),i=n._(r(7294)),a=r(6075),u=r(3955),s=r(8041),l=r(9903),c=r(5490),f=r(1928),d=r(257),p=r(4229),y=r(7195),h=r(9470),m=r(8199),g=new Set;function b(e,t,r,n,o,i){if(i||(0,u.isLocalURL)(t)){if(!n.bypassPrefetchedCheck){let o=t+"%"+r+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(g.has(o))return;g.add(o)}(async()=>i?e.prefetch(t,o):e.prefetch(t,r,n))().catch(e=>{})}}function v(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}let _=i.default.forwardRef(function(e,t){let r,n;let{href:s,as:g,children:_,prefetch:w=null,passHref:S,replace:x,shallow:E,scroll:P,locale:C,onClick:O,onMouseEnter:T,onTouchStart:I,legacyBehavior:j=!1,...k}=e;r=_,j&&("string"==typeof r||"number"==typeof r)&&(r=(0,o.jsx)("a",{children:r}));let N=i.default.useContext(f.RouterContext),M=i.default.useContext(d.AppRouterContext),A=null!=N?N:M,R=!N,$=!1!==w,L=null===w?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:z,as:U}=i.default.useMemo(()=>{if(!N){let e=v(s);return{href:e,as:g?v(g):e}}let[e,t]=(0,a.resolveHref)(N,s,!0);return{href:e,as:g?(0,a.resolveHref)(N,g):t||e}},[N,s,g]),D=i.default.useRef(z),G=i.default.useRef(U);j&&(n=i.default.Children.only(r));let F=j?n&&"object"==typeof n&&n.ref:t,[B,q,W]=(0,p.useIntersection)({rootMargin:"200px"}),K=i.default.useCallback(e=>{(G.current!==U||D.current!==z)&&(W(),G.current=U,D.current=z),B(e),F&&("function"==typeof F?F(e):"object"==typeof F&&(F.current=e))},[U,F,z,W,B]);i.default.useEffect(()=>{A&&q&&$&&b(A,z,U,{locale:C},{kind:L},R)},[U,z,q,C,$,null==N?void 0:N.locale,A,R,L]);let V={ref:K,onClick(e){j||"function"!=typeof O||O(e),j&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),A&&!e.defaultPrevented&&function(e,t,r,n,o,a,s,l,c){let{nodeName:f}=e.currentTarget;if("A"===f.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,u.isLocalURL)(r)))return;e.preventDefault();let d=()=>{let e=null==s||s;"beforePopState"in t?t[o?"replace":"push"](r,n,{shallow:a,locale:l,scroll:e}):t[o?"replace":"push"](n||r,{scroll:e})};c?i.default.startTransition(d):d()}(e,A,z,U,x,E,P,C,R)},onMouseEnter(e){j||"function"!=typeof T||T(e),j&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),A&&($||!R)&&b(A,z,U,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:L},R)},onTouchStart:function(e){j||"function"!=typeof I||I(e),j&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),A&&($||!R)&&b(A,z,U,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:L},R)}};if((0,l.isAbsoluteUrl)(U))V.href=U;else if(!j||S||"a"===n.type&&!("href"in n.props)){let e=void 0!==C?C:null==N?void 0:N.locale,t=(null==N?void 0:N.isLocaleDomain)&&(0,y.getDomainLocale)(U,e,null==N?void 0:N.locales,null==N?void 0:N.domainLocales);V.href=t||(0,h.addBasePath)((0,c.addLocale)(U,e,null==N?void 0:N.defaultLocale))}return j?i.default.cloneElement(n,V):(0,o.jsx)("a",{...k,...V,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return s}});let n=r(7294),o=r(4474),i="function"==typeof IntersectionObserver,a=new Map,u=[];function s(e){let{rootRef:t,rootMargin:r,disabled:s}=e,l=s||!i,[c,f]=(0,n.useState)(!1),d=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(i){if(l||c)return;let e=d.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:o,elements:i}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=u.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=a.get(n)))return t;let o=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:o},u.push(r),a.set(r,t),t}(r);return i.set(e,t),o.observe(e),function(){if(i.delete(e),o.unobserve(e),0===i.size){o.disconnect(),a.delete(n);let e=u.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&u.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!c){let e=(0,o.requestIdleCallback)(()=>f(!0));return()=>(0,o.cancelIdleCallback)(e)}},[l,r,t,c,d.current]),[p,c,(0,n.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7143:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(5893);r(3972);var o=r(5007),i=r(7294),a=r(154),u=r(6149),s=r(6300),l=r(7858);let c=(0,a.xC)({reducer:{auth:u.ZP,lobby:s.ZP,game:l.ZP}});var f=r(1664),d=r.n(f),p=r(9133);function y(){let e=(0,p.T)(),{isAuthenticated:t,user:r}=(0,p.C)(e=>e.auth);return(0,n.jsxs)("nav",{className:"nav",children:[(0,n.jsx)(d(),{href:t?"/":"/login",style:{fontWeight:700,textDecoration:"none"},children:"UNO"}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d(),{href:"/",children:"Setup"}),(0,n.jsx)(d(),{href:"/play",children:"Play"}),(0,n.jsx)(d(),{href:"/summary",children:"Summary"}),(0,n.jsx)("div",{className:"spacer"}),(0,n.jsx)("span",{style:{opacity:.8},children:null==r?void 0:r.username}),(0,n.jsx)("button",{onClick:()=>{e((0,u.kS)()),"undefined"!=typeof document&&(document.cookie="auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")},children:"Logout"})]})]})}function h(e){let{Component:t,pageProps:r}=e,o=(0,p.T)();return(0,i.useEffect)(()=>{o((0,u.HJ)())},[o]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{}),(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(t,{...r})})]})}function m(e){return(0,n.jsx)(o.zt,{store:c,children:(0,n.jsx)(h,{...e})})}},8682:function(e,t,r){"use strict";var n;r.d(t,{B:function(){return i}});let o=null!==(n=r(3454).env.NEXT_PUBLIC_GRAPHQL_HTTP_URL)&&void 0!==n?n:"http://localhost:4000/graphql";async function i(e,t){var r;let n=localStorage.getItem("auth_token"),i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:"Bearer ".concat(n)}:{}},body:JSON.stringify({query:e,variables:t})});if(!i.ok){let e=await i.text();throw Error("GraphQL HTTP error ".concat(i.status,": ").concat(e))}let a=await i.json();if(null===(r=a.errors)||void 0===r?void 0:r.length)throw Error(a.errors.map(e=>e.message).join("\n"));return a.data}},7107:function(e,t,r){"use strict";r.d(t,{Ac:function(){return u},D9:function(){return i},FD:function(){return l},KC:function(){return p},MM:function(){return d},O2:function(){return n},Of:function(){return c},Yx:function(){return f},dd:function(){return o},du:function(){return s},qV:function(){return a}});let n="\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user { id username }\n    }\n  }\n",o="\n  mutation CreateUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) { id username }\n  }\n",i="\n  query Me { me { id username } }\n",a="\n  query Games {\n    games {\n      id\n      status\n      amountOfPlayers\n      targetScore\n      cardsPerPlayer\n      createdAt\n      createdBy { id username }\n      players { id username }\n    }\n  }\n",u="\n  mutation CreateGame($amountOfPlayers: Int!, $targetScore: Int!, $cardsPerPlayer: Int!) {\n    createGame(amountOfPlayers: $amountOfPlayers, targetScore: $targetScore, cardsPerPlayer: $cardsPerPlayer) {\n      id\n      status\n      amountOfPlayers\n      targetScore\n      cardsPerPlayer\n      createdAt\n    }\n  }\n",s="\n  mutation JoinGame($gameId: String!) { joinGame(gameId: $gameId) }\n",l="\n  mutation StartGame($gameId: String!) { startGame(gameId: $gameId) { id status state } }\n",c="\n  query Game($gameId: String!) {\n    game(gameId: $gameId) {\n      id status state\n      players { id username }\n      createdBy { id username }\n      amountOfPlayers targetScore cardsPerPlayer\n    }\n  }\n",f="\n  subscription GameUpdated($gameId: String!) {\n    gameUpdated(gameId: $gameId) {\n      id status state\n      players { id username }\n      createdBy { id username }\n      amountOfPlayers targetScore cardsPerPlayer\n    }\n  }\n",d="\n  mutation DrawCard($gameId: String!) { drawCard(gameId: $gameId) { id status state } }\n",p="\n  mutation PlayCard($gameId: String!, $cardIndex: Int!, $nextColor: Color) {\n    playCard(gameId: $gameId, cardIndex: $cardIndex, nextColor: $nextColor) { id status state }\n  }\n"},6149:function(e,t,r){"use strict";r.d(t,{HJ:function(){return d},kS:function(){return p},x4:function(){return f},z2:function(){return c}});var n=r(154),o=r(8682),i=r(7107);let a="uno_user",u="auth_token",s="undefined"!=typeof localStorage;function l(e){s&&(e?localStorage.setItem(a,JSON.stringify(e)):localStorage.removeItem(a))}let c=(0,n.hg)("auth/register",async e=>{let t=e.username.trim(),r=e.password;if(!t||!r)throw Error("Username and password required");return await (0,o.B)(i.dd,{username:t,password:r}),(await (0,o.B)(i.O2,{username:t,password:r})).login}),f=(0,n.hg)("auth/login",async e=>{var t,r;let n=e.username.trim(),a=e.password;if(!n||!a)throw Error("Username and password required");let u=await (0,o.B)(i.O2,{username:n,password:a});if(!(null===(t=u.login)||void 0===t?void 0:t.token)||!(null===(r=u.login)||void 0===r?void 0:r.user))throw Error("Invalid username or password");return u.login}),d=(0,n.hg)("auth/refreshMe",async()=>s&&localStorage.getItem(u)?(await (0,o.B)(i.D9)).me:null),p=(0,n.hg)("auth/logout",async()=>(s&&(localStorage.removeItem(u),"undefined"!=typeof document&&(document.cookie="auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")),l(null),!0)),y=function(){if(!s)return null;let e=localStorage.getItem(a);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}(),h=(0,n.oM)({name:"auth",initialState:{user:y,isAuthenticated:!!y,status:"idle"},reducers:{},extraReducers:e=>{e.addCase(f.pending,e=>{e.status="loading",e.error=void 0}).addCase(f.fulfilled,(e,t)=>{e.status="idle",s&&localStorage.setItem(u,t.payload.token),e.user=t.payload.user,e.isAuthenticated=!0,l(t.payload.user)}).addCase(f.rejected,(e,t)=>{e.status="error",e.error=t.error.message}).addCase(c.pending,e=>{e.status="loading",e.error=void 0}).addCase(c.fulfilled,(e,t)=>{e.status="idle",s&&localStorage.setItem(u,t.payload.token),e.user=t.payload.user,e.isAuthenticated=!0,l(t.payload.user)}).addCase(c.rejected,(e,t)=>{e.status="error",e.error=t.error.message}).addCase(d.fulfilled,(e,t)=>{e.user=t.payload,e.isAuthenticated=!!t.payload,l(t.payload)}).addCase(p.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.status="idle",e.error=void 0})}});t.ZP=h.reducer},7858:function(e,t,r){"use strict";r.d(t,{ZP:function(){return eu},tv:function(){return et},wc:function(){return Y},Oq:function(){return er},Nc:function(){return eo},t:function(){return ee},zK:function(){return Q}});var n,o,i,a,u,s=r(154),l=r(8682),c=r(7107);function f(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function d(e){return"object"===f(e)}function p(e,t){return e.length<124?e:t}var y=((o=y||{})[o.InternalServerError=4500]="InternalServerError",o[o.InternalClientError=4005]="InternalClientError",o[o.BadRequest=4400]="BadRequest",o[o.BadResponse=4004]="BadResponse",o[o.Unauthorized=4401]="Unauthorized",o[o.Forbidden=4403]="Forbidden",o[o.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",o[o.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",o[o.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",o[o.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",o[o.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests",o),h=((i=h||{}).ConnectionInit="connection_init",i.ConnectionAck="connection_ack",i.Ping="ping",i.Pong="pong",i.Subscribe="subscribe",i.Next="next",i.Error="error",i.Complete="complete",i);function m(e){if(!d(e))throw Error(`Message is expected to be an object, but got ${f(e)}`);if(!e.type)throw Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw Error(`Message is expects the 'type' property to be a string, but got ${f(e.type)}`);switch(e.type){case"connection_init":case"connection_ack":case"ping":case"pong":if(null!=e.payload&&!d(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break;case"subscribe":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${f(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!d(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${f(e.payload)}`);if("string"!=typeof e.payload.query)throw Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${f(e.payload.query)}`);if(null!=e.payload.variables&&!d(e.payload.variables))throw Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${f(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==f(e.payload.operationName))throw Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${f(e.payload.operationName)}`);if(null!=e.payload.extensions&&!d(e.payload.extensions))throw Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${f(e.payload.extensions)}`);break;case"next":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${f(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!d(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${f(e.payload)}`);break;case"error":var t;if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${f(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!(Array.isArray(t=e.payload)&&t.length>0&&t.every(e=>"message"in e)))throw Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case"complete":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${f(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw Error(`Invalid message 'type' property "${e.type}"`)}return e}function g(e,t){return m(e),JSON.stringify(e,t)}class b extends Error{name="TerminatedCloseEvent";message="4499: Terminated";code=4499;reason="Terminated";wasClean=!1}function v(e){return d(e)&&"code"in e&&"reason"in e}var _=function(e,t){return(_=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function w(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function S(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function E(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function P(e){return"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var C=((n=function(e){Error.call(e),e.stack=Error().stack},a=function(e){n(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),a.prototype.constructor=a,a);function O(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var T=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,n,o,i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var a=S(i),u=a.next();!u.done;u=a.next())u.value.remove(this)}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this)}var s=this.initialTeardown;if(P(s))try{s()}catch(e){o=e instanceof C?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=S(l),f=c.next();!f.done;f=c.next()){var d=f.value;try{j(d)}catch(e){o=null!=o?o:[],e instanceof C?o=E(E([],x(o)),x(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(o)throw new C(o)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)j(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&O(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&O(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function I(e){return e instanceof T||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function j(e){P(e)?e():e.unsubscribe()}T.EMPTY;var k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},N={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=N.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,E([e,t],x(r))):setTimeout.apply(void 0,E([e,t],x(r)))},clearTimeout:function(e){var t=N.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function M(){}var A=R("C",void 0,void 0);function R(e,t,r){return{kind:e,value:t,error:r}}var $=null,L=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,I(t)&&t.add(r)):r.destination=q,r}return w(t,e),t.create=function(e,t,r){return new G(e,t,r)},t.prototype.next=function(e){this.isStopped?B(R("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?B(R("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?B(A,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(T),z=Function.prototype.bind;function U(e,t){return z.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){F(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){F(e)}else F(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){F(e)}},e}(),G=function(e){function t(t,r,n){var o,i,a=e.call(this)||this;return P(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&k.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&U(t.next,i),error:t.error&&U(t.error,i),complete:t.complete&&U(t.complete,i)}):o=t,a.destination=new D(o),a}return w(t,e),t}(L);function F(e){k.useDeprecatedSynchronousErrorHandling?k.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=e):N.setTimeout(function(){var t=k.onUnhandledError;if(t)t(e);else throw e})}function B(e,t){var r=k.onStoppedNotification;r&&N.setTimeout(function(){return r(e,t)})}var q={closed:!0,next:M,error:function(e){throw e},complete:M},W="function"==typeof Symbol&&Symbol.observable||"@@observable",K=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof L||n&&P(n.next)&&P(n.error)&&P(n.complete)&&I(n)?e:new G(e,t,r);return function(e){if(k.useDeprecatedSynchronousErrorHandling){var t=!$;if(t&&($={errorThrown:!1,error:null}),e(),t){var r=$,n=r.errorThrown,o=r.error;if($=null,n)throw o}}else e()}(function(){var e=o.operator,t=o.source;i.add(e?e.call(i,t):t?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=V(t))(function(t,n){var o=new G({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[W]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=V(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function V(e){var t;return null!==(t=null!=e?e:k.Promise)&&void 0!==t?t:Promise}let H=null!==(u=r(3454).env.NEXT_PUBLIC_GRAPHQL_WS_URL)&&void 0!==u?u:"ws://localhost:4000/graphql",X=null;var J=r(6300);let Z=null,Y=(0,s.hg)("game/load",async e=>{let t=await (0,l.B)(c.Of,{gameId:e.gameId});if(!t.game)throw Error("Game not found");return t.game}),Q=(0,s.hg)("game/subscribe",async(e,t)=>{var r,n;let{dispatch:o}=t;return null==Z||Z.unsubscribe(),Z=(r=c.Yx,n={gameId:e.gameId},new K(e=>{let t=(X||(X=function(e){let t;let{url:r,connectionParams:n,lazy:o=!0,onNonLazyError:i=console.error,lazyCloseTimeout:a=0,keepAlive:u=0,disablePong:s,connectionAckWaitTimeout:l=0,retryAttempts:c=5,retryWait:f=async function(e){let t=Math.pow(2,e);await new Promise(e=>setTimeout(e,1e3*t+Math.floor(2700*Math.random()+300)))},shouldRetry:d=v,on:_,webSocketImpl:w,generateID:S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},jsonMessageReplacer:x,jsonMessageReviver:E}=e;if(w){if(!("function"==typeof w&&"constructor"in w&&"CLOSED"in w&&"CLOSING"in w&&"CONNECTING"in w&&"OPEN"in w))throw Error("Invalid WebSocket implementation provided");t=w}else"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof global?t=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(t=window.WebSocket||window.MozWebSocket);if(!t)throw Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");let P=t,C=(()=>{let e=(()=>{let e={};return{on:(t,r)=>(e[t]=r,()=>{delete e[t]}),emit(t){"id"in t&&e[t.id]?.(t)}}})(),t={connecting:_?.connecting?[_.connecting]:[],opened:_?.opened?[_.opened]:[],connected:_?.connected?[_.connected]:[],ping:_?.ping?[_.ping]:[],pong:_?.pong?[_.pong]:[],message:_?.message?[e.emit,_.message]:[e.emit],closed:_?.closed?[_.closed]:[],error:_?.error?[_.error]:[]};return{onMessage:e.on,on(e,r){let n=t[e];return n.push(r),()=>{n.splice(n.indexOf(r),1)}},emit(e,...r){for(let n of[...t[e]])n(...r)}}})();function O(e){let t=[C.on("error",r=>{t.forEach(e=>e()),e(r)}),C.on("closed",r=>{t.forEach(e=>e()),e(r)})]}let T,I=0,j,k=!1,N=0,M=!1;async function A(){clearTimeout(j);let[e,t]=await (T??(T=new Promise((e,t)=>(async()=>{let o,i;if(k){if(await f(N),!I)return T=void 0,t({code:1e3,reason:"All Subscriptions Gone"});N++}C.emit("connecting",k);let a=new P("function"==typeof r?await r():r,"graphql-transport-ws");function c(){isFinite(u)&&u>0&&(clearTimeout(i),i=setTimeout(()=>{a.readyState===P.OPEN&&(a.send(g({type:h.Ping})),C.emit("ping",!1,void 0))},u))}O(e=>{T=void 0,clearTimeout(o),clearTimeout(i),t(e),e instanceof b&&(a.close(4499,"Terminated"),a.onerror=null,a.onclose=null)}),a.onerror=e=>C.emit("error",e),a.onclose=e=>C.emit("closed",e),a.onopen=async()=>{try{C.emit("opened",a);let e="function"==typeof n?await n():n;if(a.readyState!==P.OPEN)return;a.send(g(e?{type:h.ConnectionInit,payload:e}:{type:h.ConnectionInit},x)),isFinite(l)&&l>0&&(o=setTimeout(()=>{a.close(y.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),c()}catch(e){C.emit("error",e),a.close(y.InternalClientError,p(e instanceof Error?e.message:String(e),"Internal client error"))}};let d=!1;a.onmessage=({data:t})=>{try{let r=m("string"==typeof t?JSON.parse(t,E):t);if(C.emit("message",r),"ping"===r.type||"pong"===r.type){C.emit(r.type,!0,r.payload),"pong"===r.type?c():s||(a.send(g(r.payload?{type:h.Pong,payload:r.payload}:{type:h.Pong})),C.emit("pong",!1,r.payload));return}if(d)return;if(r.type!==h.ConnectionAck)throw Error(`First message cannot be of type ${r.type}`);clearTimeout(o),d=!0,C.emit("connected",a,r.payload,k),k=!1,N=0,e([a,new Promise((e,t)=>O(t))])}catch(e){a.onmessage=null,C.emit("error",e),a.close(y.BadResponse,p(e instanceof Error?e.message:String(e),"Bad response"))}}})())));e.readyState===P.CLOSING&&await t;let o=()=>{},i=new Promise(e=>o=e);return[e,o,Promise.race([i.then(()=>{if(!I){let t=()=>e.close(1e3,"Normal Closure");isFinite(a)&&a>0?j=setTimeout(()=>{e.readyState===P.OPEN&&t()},a):t()}}),t])]}function R(e){var t;if(v(e)&&(![1e3,1001,1006,1005,1012,1013,1014].includes(t=e.code)&&t>=1e3&&t<=1999||[y.InternalServerError,y.InternalClientError,y.BadRequest,y.BadResponse,y.Unauthorized,y.SubprotocolNotAcceptable,y.SubscriberAlreadyExists,y.TooManyInitialisationRequests].includes(e.code)))throw e;if(M)return!1;if(v(e)&&1e3===e.code)return I>0;if(!c||N>=c||!d(e))throw e;return k=!0}function $(e,t){let r=S(e),n=!1,o=!1,i=()=>{I--,n=!0};return(async()=>{for(I++;;)try{let[a,u,s]=await A();if(n)return u();let l=C.onMessage(r,e=>{switch(e.type){case h.Next:t.next(e.payload);return;case h.Error:o=!0,n=!0,t.error(e.payload),i();return;case h.Complete:n=!0,i();return}});a.send(g({id:r,type:h.Subscribe,payload:e},x)),i=()=>{n||a.readyState!==P.OPEN||a.send(g({id:r,type:h.Complete},x)),I--,n=!0,u()},await s.finally(l);return}catch(e){if(!R(e))return}})().then(()=>{o||t.complete()}).catch(e=>{t.error(e)}),()=>{n||i()}}return o||(async()=>{for(I++;;)try{let[,,e]=await A();await e}catch(e){try{if(!R(e))return}catch(e){return i?.(e)}}})(),{on:C.on,subscribe:$,iterate(e){let t=[],r={done:!1,error:null,resolve:()=>{}},n=$(e,{next(e){t.push(e),r.resolve()},error(e){r.done=!0,r.error=e,r.resolve()},complete(){r.done=!0,r.resolve()}}),o=async function*(){for(;;){for(t.length||await new Promise(e=>r.resolve=e);t.length;)yield t.shift();if(r.error)throw r.error;if(r.done)return}}();return o.throw=async e=>(r.done||(r.done=!0,r.error=e,r.resolve()),{done:!0,value:void 0}),o.return=async()=>(n(),{done:!0,value:void 0}),o},async dispose(){if(M=!0,T){let[e]=await T;e.close(1e3,"Normal Closure")}},terminate(){T&&C.emit("closed",new b)}}}({url:H,connectionParams:()=>{let e=localStorage.getItem("auth_token");return e?{Authorization:"Bearer ".concat(e)}:{}}}))).subscribe({query:r,variables:n},{next:t=>{var r;if(null===(r=t.errors)||void 0===r?void 0:r.length){e.error(Error(t.errors.map(e=>e.message).join("\n")));return}e.next(t.data)},error:t=>e.error(t),complete:()=>e.complete()});return()=>{try{t()}catch(e){}}})).subscribe({next:e=>{(null==e?void 0:e.gameUpdated)&&(o(en.actions.setServerGame(e.gameUpdated)),o((0,J.kT)()))},error:e=>{console.error("gameUpdated subscription error",e)}}),!0});(0,s.hg)("game/unsubscribe",async()=>(null==Z||Z.unsubscribe(),Z=null,!0));let ee=(0,s.hg)("game/start",async(e,t)=>{let{dispatch:r}=t;await (0,l.B)(c.FD,{gameId:e.gameId});let n=await (0,l.B)(c.Of,{gameId:e.gameId});return n.game&&r(en.actions.setServerGame(n.game)),!0}),et=(0,s.hg)("game/draw",async e=>(await (0,l.B)(c.MM,{gameId:e.gameId}),!0)),er=(0,s.hg)("game/play",async e=>{var t;return await (0,l.B)(c.KC,{gameId:e.gameId,cardIndex:e.cardIndex,nextColor:null!==(t=e.nextColor)&&void 0!==t?t:null}),!0}),en=(0,s.oM)({name:"game",initialState:{currentPlayerName:null,serverGame:null,status:"idle"},reducers:{setCurrentPlayerName:(e,t)=>{e.currentPlayerName=t.payload},setServerGame:(e,t)=>{e.serverGame=t.payload},clearGame:e=>{e.serverGame=null}},extraReducers:e=>{e.addCase(Y.pending,e=>{e.status="loading",e.error=void 0}).addCase(Y.fulfilled,(e,t)=>{e.status="idle",e.serverGame=t.payload}).addCase(Y.rejected,(e,t)=>{e.status="error",e.error=t.error.message})}}),{setCurrentPlayerName:eo,setServerGame:ei,clearGame:ea}=en.actions;var eu=en.reducer},6300:function(e,t,r){"use strict";r.d(t,{Mu:function(){return l},kT:function(){return u},yO:function(){return s}});var n=r(154),o=r(8682),i=r(7107);function a(e){var t,r,n;return{id:e.id,host:null!==(r=null===(t=e.createdBy)||void 0===t?void 0:t.username)&&void 0!==r?r:"Unknown",players:(null!==(n=e.players)&&void 0!==n?n:[]).map(e=>e.username),maxPlayers:e.amountOfPlayers,targetScore:e.targetScore,cardsPerPlayer:e.cardsPerPlayer,status:e.status}}let u=(0,n.hg)("lobby/fetchGames",async()=>{var e;return(null!==(e=(await (0,o.B)(i.qV)).games)&&void 0!==e?e:[]).map(a)}),s=(0,n.hg)("lobby/create",async e=>{var t;let r=await (0,o.B)(i.Ac,e);if(!(null===(t=r.createGame)||void 0===t?void 0:t.id))throw Error("Failed to create game");return r.createGame.id}),l=(0,n.hg)("lobby/join",async e=>(await (0,o.B)(i.du,{gameId:e.gameId}),e.gameId)),c=(0,n.oM)({name:"lobby",initialState:{games:[],currentGameId:null,status:"idle"},reducers:{setCurrentGameId:(e,t)=>{e.currentGameId=t.payload}},extraReducers:e=>{e.addCase(u.pending,e=>{e.status="loading",e.error=void 0}).addCase(u.fulfilled,(e,t)=>{e.status="idle",e.games=t.payload}).addCase(u.rejected,(e,t)=>{e.status="error",e.error=t.error.message}).addCase(s.fulfilled,(e,t)=>{e.currentGameId=t.payload}).addCase(l.fulfilled,(e,t)=>{e.currentGameId=t.payload})}}),{setCurrentGameId:f}=c.actions;t.ZP=c.reducer},9133:function(e,t,r){"use strict";r.d(t,{C:function(){return i},T:function(){return o}});var n=r(5007);let o=n.I0,i=n.v9},3972:function(){},7663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s=[],l=!1,c=-1;function f(){l&&n&&(l=!1,n.length?s=n.concat(s):c=-1,s.length&&d())}function d(){if(!l){var e=u(f);l=!0;for(var t=s.length;t;){for(n=s,s=[];++c<t;)n&&n[c].run();c=-1,t=s.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new p(e,t)),1!==s.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},1664:function(e,t,r){e.exports=r(8342)},7666:function(e,t,r){"use strict";var n=r(7294),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,s=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var f=a(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;var p=i(e,(f=s(function(){function e(e){if(!u){if(u=!0,i=e,e=n(e),void 0!==c&&d.hasValue){var t=d.value;if(c(t,e))return a=t}return a=e}if(t=a,o(i,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(i=e,t):(i=e,a=r)}var i,a,u=!1,s=void 0===r?null:r;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,r,n,c]))[0],f[1]);return u(function(){d.hasValue=!0,d.value=p},[p]),l(p),p}},1103:function(e,t,r){"use strict";e.exports=r(7666)},154:function(e,t,r){"use strict";r.d(t,{xC:function(){return eN},hg:function(){return eG},oM:function(){return eW}});var n,o,i=Symbol.for("immer-nothing"),a=Symbol.for("immer-draftable"),u=Symbol.for("immer-state");function s(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var l=Object,c=l.getPrototypeOf,f="constructor",d="prototype",p="configurable",y="enumerable",h="writable",m="value",g=e=>!!e&&!!e[u];function b(e){return!!e&&(w(e)||O(e)||!!e[a]||!!e[f]?.[a]||T(e)||I(e))}var v=l[d][f].toString(),_=new WeakMap;function w(e){if(!e||!j(e))return!1;let t=c(e);if(null===t||t===l[d])return!0;let r=l.hasOwnProperty.call(t,f)&&t[f];if(r===Object)return!0;if(!k(r))return!1;let n=_.get(r);return void 0===n&&(n=Function.toString.call(r),_.set(r,n)),n===v}function S(e,t,r=!0){0===x(e)?(r?Reflect.ownKeys(e):l.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function x(e){let t=e[u];return t?t.type_:O(e)?1:T(e)?2:I(e)?3:0}var E=(e,t,r=x(e))=>2===r?e.has(t):l[d].hasOwnProperty.call(e,t),P=(e,t,r=x(e))=>2===r?e.get(t):e[t],C=(e,t,r,n=x(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r},O=Array.isArray,T=e=>e instanceof Map,I=e=>e instanceof Set,j=e=>"object"==typeof e,k=e=>"function"==typeof e,N=e=>"boolean"==typeof e,M=e=>e.copy_||e.base_,A=e=>e.modified_?e.copy_:e.base_;function R(e,t){if(T(e))return new Map(e);if(I(e))return new Set(e);if(O(e))return Array[d].slice.call(e);let r=w(e);if(!0!==t&&("class_only"!==t||r)){let t=c(e);if(null!==t&&r)return{...e};let n=l.create(t);return l.assign(n,e)}{let t=l.getOwnPropertyDescriptors(e);delete t[u];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let o=r[n],i=t[o];!1===i[h]&&(i[h]=!0,i[p]=!0),(i.get||i.set)&&(t[o]={[p]:!0,[h]:!0,[y]:i[y],[m]:e[o]})}return l.create(c(e),t)}}function $(e,t=!1){return z(e)||g(e)||!b(e)||(x(e)>1&&l.defineProperties(e,{set:L,add:L,clear:L,delete:L}),l.freeze(e),t&&S(e,(e,t)=>{$(t,!0)},!1)),e}var L={[m]:function(){s(2)}};function z(e){return!(null!==e&&j(e))||l.isFrozen(e)}var U="MapSet",D="Patches",G="ArrayMethods",F={};function B(e){let t=F[e];return t||s(0,e),t}var q=e=>!!F[e],W=()=>o,K=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:q(U)?B(U):void 0,arrayMethodsPlugin_:q(G)?B(G):void 0});function V(e,t){t&&(e.patchPlugin_=B(D),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function H(e){X(e),e.drafts_.forEach(Z),e.drafts_=null}function X(e){e===o&&(o=e.parent_)}var J=e=>o=K(o,e);function Z(e){let t=e[u];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Y(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];if(void 0!==e&&e!==r){r[u].modified_&&(H(t),s(4)),b(e)&&(e=Q(t,e));let{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[u].base_,e,t)}else e=Q(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$(t,r)}(t,e,!0),H(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i?e:void 0}function Q(e,t){if(z(t))return t;let r=t[u];if(!r)return ei(t,e.handledSet_,e);if(!et(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){let{callbacks_:t}=r;if(t)for(;t.length>0;)t.pop()(e);eo(r,e)}return r.copy_}function ee(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var et=(e,t)=>e.scope_===t,er=[];function en(e,t,r,n){let o=M(e),i=e.type_;if(void 0!==n&&P(o,n,i)===t){C(o,n,r,i);return}if(!e.draftLocations_){let t=e.draftLocations_=new Map;S(o,(e,r)=>{if(g(r)){let n=t.get(r)||[];n.push(e),t.set(r,n)}})}for(let n of e.draftLocations_.get(t)??er)C(o,n,r,i)}function eo(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){let{patchPlugin_:r}=t;if(r){let n=r.getPath(e);n&&r.generatePatches_(e,n,t)}ee(e)}}function ei(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||g(e)||t.has(e)||!b(e)||z(e)||(t.add(e),S(e,(n,o)=>{if(g(o)){let t=o[u];et(t,r)&&(C(e,n,A(t),e.type_),ee(t))}else b(o)&&ei(o,t,r)})),e}var ea={get(e,t){if(t===u)return e;let r=e.scope_.arrayMethodsPlugin_,n=1===e.type_&&"string"==typeof t;if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);let o=M(e);if(!E(o,t,e.type_))return function(e,t,r){let n=el(t,r);return n?m in n?n[m]:n.get?.call(e.draft_):void 0}(e,o,t);let i=o[t];if(e.finalized_||!b(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&function(e){let t=+e;return Number.isInteger(t)&&String(t)===e}(t))return i;if(i===es(e.base_,t)){ef(e);let r=1===e.type_?+t:t,n=ed(e.scope_,i,e,r);return e.copy_[r]=n}return i},has:(e,t)=>t in M(e),ownKeys:e=>Reflect.ownKeys(M(e)),set(e,t,r){let n=el(M(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=es(M(e),t),o=n?.[u];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||E(e.base_,t,e.type_)))return!0;ef(e),ec(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_.set(t,!0),!function(e,t,r){let{scope_:n}=e;if(g(r)){let o=r[u];et(o,n)&&o.callbacks_.push(function(){ef(e),en(e,r,A(o),t)})}else b(r)&&e.callbacks_.push(function(){let o=M(e);3===e.type_?o.has(r)&&ei(r,n.handledSet_,n):P(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ei(P(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r),!0)},deleteProperty:(e,t)=>(ef(e),void 0!==es(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),ec(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=M(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[h]:!0,[p]:1!==e.type_||"length"!==t,[y]:n[y],[m]:r[t]}:n},defineProperty(){s(11)},getPrototypeOf:e=>c(e.base_),setPrototypeOf(){s(12)}},eu={};for(let e in ea){let t=ea[e];eu[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}function es(e,t){let r=e[u];return(r?M(r):e)[t]}function el(e,t){if(!(t in e))return;let r=c(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=c(r)}}function ec(e){!e.modified_&&(e.modified_=!0,e.parent_&&ec(e.parent_))}function ef(e){e.copy_||(e.assigned_=new Map,e.copy_=R(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function ed(e,t,r,n){let[o,i]=T(t)?B(U).proxyMap_(t,r):I(t)?B(U).proxySet_(t,r):function(e,t){let r=O(e),n={type_:r?1:0,scope_:t?t.scope_:W(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},o=n,i=ea;r&&(o=[n],i=eu);let{revoke:a,proxy:u}=Proxy.revocable(o,i);return n.draft_=u,n.revoke_=a,[u,n]}(t,r);return(r?.scope_??W()).drafts_.push(o),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){if(!t||!et(t,n))return;n.mapSetPlugin_?.fixSetContents(t);let o=A(t);en(e,t.draft_??t,o,r),eo(t,n)})}(r,i,n):i.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(i);let{patchPlugin_:t}=e;i.modified_&&t&&t.generatePatches_(i,[],e)}),o}eu.deleteProperty=function(e,t){return eu.set.call(this,e,t,void 0)},eu.set=function(e,t,r){return ea.set.call(this,e[0],t,r,e[0])};var ep=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{let n;if(k(e)&&!k(t)){let r=t;t=e;let n=this;return function(e=r,...o){return n.produce(e,e=>t.call(this,e,...o))}}if(k(t)||s(6),void 0===r||k(r)||s(7),b(e)){let o=J(this),i=ed(o,e,void 0),a=!0;try{n=t(i),a=!1}finally{a?H(o):X(o)}return V(o,r),Y(n,o)}if(e&&j(e))s(1,e);else{if(void 0===(n=t(e))&&(n=e),n===i&&(n=void 0),this.autoFreeze_&&$(n,!0),r){let t=[],o=[];B(D).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:o}),r(t,o)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return k(e)?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},N(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),N(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),N(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;b(e)||s(8),g(e)&&(g(t=e)||s(10,t),e=function e(t){let r;if(!b(t)||z(t))return t;let n=t[u],o=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=R(t,n.scope_.immer_.useStrictShallowCopy_),o=n.scope_.immer_.shouldUseStrictIteration()}else r=R(t,!0);return S(r,(t,n)=>{C(r,t,e(n))},o),n&&(n.finalized_=!1),r}(t));let r=J(this),n=ed(r,e,void 0);return n[u].isManual_=!0,X(r),n}finishDraft(e,t){let r=e&&e[u];r&&r.isManual_||s(9);let{scope_:n}=r;return V(n,t),Y(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=B(D).applyPatches_;return g(e)?n(e,t):this.produce(e,e=>n(e,t))}}().produce;function ey(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eh="function"==typeof Symbol&&Symbol.observable||"@@observable",em=()=>Math.random().toString(36).substring(7).split("").join("."),eg={INIT:`@@redux/INIT${em()}`,REPLACE:`@@redux/REPLACE${em()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${em()}`};function eb(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function ev(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function e_(e){return({dispatch:t,getState:r})=>n=>o=>"function"==typeof o?o(t,r,e):n(o)}var ew=e_();r(3454);var eS="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?ev:ev.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var ex=e=>e&&"function"==typeof e.match;function eE(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(e0(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>eb(t)&&"type"in t&&"string"==typeof t.type&&t.type===e,r}var eP=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function eC(e){return b(e)?ep(e,()=>{}):e}function eO(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var eT=()=>function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:o=!0}=e??{},i=new eP;return t&&("boolean"==typeof t?i.push(ew):i.push(e_(t.extraArgument))),i},eI=e=>t=>{setTimeout(t,e)},ej=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),o=!0,i=!1,a=!1,u=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:eI(10):"callback"===e.type?e.queueNotification:eI(e.timeout),l=()=>{a=!1,i&&(i=!1,u.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>o&&e());return u.add(e),()=>{t(),u.delete(e)}},dispatch(e){try{return(i=!(o=!e?.meta?.RTK_autoBatch))&&!a&&(a=!0,s(l)),n.dispatch(e)}finally{o=!0}}})},ek=e=>function(t){let{autoBatch:r=!0}=t??{},n=new eP(e);return r&&n.push(ej("object"==typeof r?r:void 0)),n};function eN(e){let t,r;let n=eT(),{reducer:o,middleware:i,devTools:a=!0,duplicateMiddlewareCheck:u=!0,preloadedState:s,enhancers:l}=e||{};if("function"==typeof o)t=o;else if(eb(o))t=function(e){let t;let r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let o=r[t];"function"==typeof e[o]&&(n[o]=e[o])}let o=Object.keys(n);try{!function(e){Object.keys(e).forEach(t=>{let r=e[t];if(void 0===r(void 0,{type:eg.INIT}))throw Error(ey(12));if(void 0===r(void 0,{type:eg.PROBE_UNKNOWN_ACTION()}))throw Error(ey(13))})}(n)}catch(e){t=e}return function(e={},r){if(t)throw t;let i=!1,a={};for(let t=0;t<o.length;t++){let u=o[t],s=n[u],l=e[u],c=s(l,r);if(void 0===c)throw r&&r.type,Error(ey(14));a[u]=c,i=i||c!==l}return(i=i||o.length!==Object.keys(e).length)?a:e}}(o);else throw Error(e0(1));r="function"==typeof i?i(n):n();let c=ev;a&&(c=eS({trace:!1,..."object"==typeof a&&a}));let f=ek(function(...e){return t=>(r,n)=>{let o=t(r,n),i=()=>{throw Error(ey(15))},a={getState:o.getState,dispatch:(e,...t)=>i(e,...t)};return i=ev(...e.map(e=>e(a)))(o.dispatch),{...o,dispatch:i}}}(...r));return function e(t,r,n){if("function"!=typeof t)throw Error(ey(2));if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(ey(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(ey(1));return n(e)(t,r)}let o=t,i=r,a=new Map,u=a,s=0,l=!1;function c(){u===a&&(u=new Map,a.forEach((e,t)=>{u.set(t,e)}))}function f(){if(l)throw Error(ey(3));return i}function d(e){if("function"!=typeof e)throw Error(ey(4));if(l)throw Error(ey(5));let t=!0;c();let r=s++;return u.set(r,e),function(){if(t){if(l)throw Error(ey(6));t=!1,c(),u.delete(r),a=null}}}function p(e){if(!eb(e))throw Error(ey(7));if(void 0===e.type)throw Error(ey(8));if("string"!=typeof e.type)throw Error(ey(17));if(l)throw Error(ey(9));try{l=!0,i=o(i,e)}finally{l=!1}return(a=u).forEach(e=>{e()}),e}return p({type:eg.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw Error(ey(10));o=e,p({type:eg.REPLACE})},[eh]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(ey(11));function t(){e.next&&e.next(f())}return t(),{unsubscribe:d(t)}},[eh](){return this}}}}}(t,s,c(..."function"==typeof l?l(f):f()))}function eM(e){let t;let r={},n=[],o={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(e0(28));if(n in r)throw Error(e0(29));return r[n]=t,o},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&n.push({matcher:e.settled,reducer:t.settled}),o),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(t=e,o)};return e(o),[r,n,t]}var eA=(e,t)=>ex(e)?e.match(t):e(t),eR=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},e$=["name","message","stack","code"],eL=class{constructor(e,t){this.payload=e,this.meta=t}_type},ez=class{constructor(e,t){this.payload=e,this.meta=t}_type},eU=e=>{if("object"==typeof e&&null!==e){let t={};for(let r of e$)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},eD="External signal was aborted",eG=(()=>{function e(e,t,r){let n=eE(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:{...n||{},arg:r,requestId:t,requestStatus:"fulfilled"}})),o=eE(e+"/pending",(e,t,r)=>({payload:void 0,meta:{...r||{},arg:t,requestId:e,requestStatus:"pending"}})),i=eE(e+"/rejected",(e,t,n,o,i)=>({payload:o,error:(r&&r.serializeError||eU)(e||"Rejected"),meta:{...i||{},arg:n,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:e?.name==="AbortError",condition:e?.name==="ConditionError"}}));return Object.assign(function(e,{signal:a}={}){return(u,s,l)=>{let c,f;let d=r?.idGenerator?r.idGenerator(e):eR(),p=new AbortController;function y(e){f=e,p.abort()}a&&(a.aborted?y(eD):a.addEventListener("abort",()=>y(eD),{once:!0}));let h=async function(){let a;try{var h;let i=r?.condition?.(e,{getState:s,extra:l});if(h=i,null!==h&&"object"==typeof h&&"function"==typeof h.then&&(i=await i),!1===i||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let m=new Promise((e,t)=>{c=()=>{t({name:"AbortError",message:f||"Aborted"})},p.signal.addEventListener("abort",c,{once:!0})});u(o(d,e,r?.getPendingMeta?.({requestId:d,arg:e},{getState:s,extra:l}))),a=await Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:l,requestId:d,signal:p.signal,abort:y,rejectWithValue:(e,t)=>new eL(e,t),fulfillWithValue:(e,t)=>new ez(e,t)})).then(t=>{if(t instanceof eL)throw t;return t instanceof ez?n(t.payload,d,e,t.meta):n(t,d,e)})])}catch(t){a=t instanceof eL?i(null,d,e,t.payload,t.meta):i(t,d,e)}finally{c&&p.signal.removeEventListener("abort",c)}return r&&!r.dispatchConditionRejection&&i.match(a)&&a.meta.condition||u(a),a}();return Object.assign(h,{abort:y,requestId:d,arg:e,unwrap:()=>h.then(eF)})}},{pending:o,rejected:i,fulfilled:n,settled:function(...e){return t=>e.some(e=>eA(e,t))}(i,n),typePrefix:e})}return e.withTypes=()=>e,e})();function eF(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var eB=Symbol.for("rtk-slice-createasyncthunk"),eq=((n=eq||{}).reducer="reducer",n.reducerWithPrepare="reducerWithPrepare",n.asyncThunk="asyncThunk",n),eW=function({creators:e}={}){let t=e?.asyncThunk?.[eB];return function(e){let r;let{name:n,reducerPath:o=n}=e;if(!n)throw Error(e0(11));let i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),u={},s={},l={},c=[],f={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(e0(12));if(r in s)throw Error(e0(13));return s[r]=t,f},addMatcher:(e,t)=>(c.push({matcher:e,reducer:t}),f),exposeAction:(e,t)=>(l[e]=t,f),exposeCaseReducer:(e,t)=>(u[e]=t,f)};function d(){let[t={},r=[],n]="function"==typeof e.extraReducers?eM(e.extraReducers):[e.extraReducers],o={...t,...s};return function(e,t){let r;let[n,o,i]=eM(t);if("function"==typeof e)r=()=>eC(e());else{let t=eC(e);r=()=>t}function a(e=r(),t){let a=[n[t.type],...o.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===a.filter(e=>!!e).length&&(a=[i]),a.reduce((e,r)=>{if(r){if(g(e)){let n=r(e,t);return void 0===n?e:n}if(b(e))return ep(e,e=>r(e,t));{let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return a.getInitialState=r,a}(e.initialState,e=>{for(let t in o)e.addCase(t,o[t]);for(let t of c)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(r=>{let o=i[r],a={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===o._reducerDefinitionType?function({type:e,reducerName:t},r,n,o){if(!o)throw Error(e0(18));let{payloadCreator:i,fulfilled:a,pending:u,rejected:s,settled:l,options:c}=r,f=o(e,i,c);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),u&&n.addCase(f.pending,u),s&&n.addCase(f.rejected,s),l&&n.addMatcher(f.settled,l),n.exposeCaseReducer(t,{fulfilled:a||eK,pending:u||eK,rejected:s||eK,settled:l||eK})}(a,o,f,t):function({type:e,reducerName:t,createNotation:r},n,o){let i,a;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(e0(17));i=n.reducer,a=n.prepare}else i=n;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?eE(e,a):eE(e))}(a,o,f)});let p=e=>e,y=new Map,h=new WeakMap;function m(e,t){return r||(r=d()),r(e,t)}function v(){return r||(r=d()),r.getInitialState()}function _(t,r=!1){function n(e){let o=e[t];return void 0===o&&r&&(o=eO(h,n,v)),o}function o(t=p){let n=eO(y,r,()=>new WeakMap);return eO(n,t,()=>{let n={};for(let[o,i]of Object.entries(e.selectors??{}))n[o]=function(e,t,r,n){function o(i,...a){let u=t(i);return void 0===u&&n&&(u=r()),e(u,...a)}return o.unwrapped=e,o}(i,t,()=>eO(h,t,v),r);return n})}return{reducerPath:t,getSelectors:o,get selectors(){return o(n)},selectSlice:n}}let w={name:n,reducer:m,actions:l,caseReducers:u,getInitialState:v,..._(o),injectInto(e,{reducerPath:t,...r}={}){let n=t??o;return e.inject({reducerPath:n,reducer:m},r),{...w,..._(n,!0)}}};return w}}();function eK(){}var eV=(e,t)=>{if("function"!=typeof e)throw TypeError(e0(32))},{assign:eH}=Object,eX="listenerMiddleware",eJ=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:i}=e;if(t)o=eE(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(o);else throw Error(e0(21));return eV(i,"options.listener"),{predicate:o,type:t,effect:i}},eZ=eH(e=>{let{type:t,predicate:r,effect:n}=eJ(e);return{id:eR(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(e0(22))}}},{withTypes:()=>eZ}),eY=eH(eE(`${eX}/add`),{withTypes:()=>eY}),eQ=eH(eE(`${eX}/remove`),{withTypes:()=>eQ});function e0(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original")},5007:function(e,t,r){"use strict";r.d(t,{I0:function(){return g},v9:function(){return v},zt:function(){return d}});var n=r(7294),o=r(1103),i={notify(){},get:()=>[]},a=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),u="undefined"!=typeof navigator&&"ReactNative"===navigator.product,s=a||u?n.useLayoutEffect:n.useEffect,l=Symbol.for("react-redux-context"),c="undefined"!=typeof globalThis?globalThis:{},f=function(){if(!n.createContext)return{};let e=c[l]??=new Map,t=e.get(n.createContext);return t||(t=n.createContext(null),e.set(n.createContext,t)),t}(),d=function(e){let{children:t,context:r,serverState:o,store:a}=e,u=n.useMemo(()=>{let e=function(e,t){let r;let n=i,o=0,a=!1;function u(){c.onStateChange&&c.onStateChange()}function s(){if(o++,!r){let t,o;r=e.subscribe(u),t=null,o=null,n={clear(){t=null,o=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,n=o={callback:e,next:null,prev:o};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:o=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}}function l(){o--,r&&0===o&&(r(),r=void 0,n.clear(),n=i)}let c={addNestedSub:function(e){s();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:u,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}(a);return{store:a,subscription:e,getServerState:o?()=>o:void 0}},[a,o]),l=n.useMemo(()=>a.getState(),[a]);return s(()=>{let{subscription:e}=u;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[u,l]),n.createElement((r||f).Provider,{value:u},t)};function p(e=f){return function(){return n.useContext(e)}}var y=p();function h(e=f){let t=e===f?y:p(e),r=()=>{let{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var m=h(),g=function(e=f){let t=e===f?m:h(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}(),b=(e,t)=>e===t,v=function(e=f){let t=e===f?y:p(e),r=(e,r={})=>{let{equalityFn:i=b}="function"==typeof r?{equalityFn:r}:r,{store:a,subscription:u,getServerState:s}=t();n.useRef(!0);let l=n.useCallback({[e.name]:t=>e(t)}[e.name],[e]),c=(0,o.useSyncExternalStoreWithSelector)(u.addNestedSub,a.getState,s||a.getState,l,i);return n.useDebugValue(c),c};return Object.assign(r,{withTypes:()=>r}),r}()}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(3079)}),_N_E=e.O()}]);