(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},1854:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return u},default:function(){return c}});var n=a(5893),r=a(7294),t=a(1163),i=a(9133),l=a(6300),d=a(7858),u=!0;function c(){let e=(0,i.T)(),s=(0,t.useRouter)(),a=(0,i.C)(e=>e.lobby),u=(0,i.C)(e=>e.auth.user),[c,o]=(0,r.useState)(4),[p,h]=(0,r.useState)(500),[x,g]=(0,r.useState)(7);async function y(){let a=await e((0,l.yO)({amountOfPlayers:c,targetScore:p,cardsPerPlayer:x})).unwrap();await e((0,d.wc)({gameId:a})),await e((0,d.zK)({gameId:a})),s.push("/play")}async function m(a){await e((0,l.Mu)({gameId:a})).unwrap(),await e((0,d.wc)({gameId:a})),await e((0,d.zK)({gameId:a})),s.push("/play")}return(0,r.useEffect)(()=>{e((0,l.kT)())},[e]),(0,r.useEffect)(()=>{(null==u?void 0:u.username)&&e((0,d.Nc)(u.username))},[e,null==u?void 0:u.username]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Game setup"}),(0,n.jsxs)("div",{style:{display:"grid",gap:8,maxWidth:520,border:"1px solid #e5e5e5",padding:12,borderRadius:10},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[(0,n.jsxs)("label",{children:["Players",(0,n.jsx)("input",{type:"number",min:2,max:10,value:c,onChange:e=>o(Number(e.target.value))})]}),(0,n.jsxs)("label",{children:["Target score",(0,n.jsx)("input",{type:"number",min:1,value:p,onChange:e=>h(Number(e.target.value))})]}),(0,n.jsxs)("label",{children:["Cards/player",(0,n.jsx)("input",{type:"number",min:1,max:15,value:x,onChange:e=>g(Number(e.target.value))})]})]}),(0,n.jsx)("button",{onClick:y,children:"Create game"})]}),(0,n.jsx)("h3",{style:{marginTop:24},children:"Open games"}),(0,n.jsx)("button",{onClick:()=>e((0,l.kT)()),disabled:"loading"===a.status,children:"Refresh"}),a.error&&(0,n.jsx)("p",{style:{color:"crimson"},children:a.error}),(0,n.jsxs)("div",{style:{display:"grid",gap:10,marginTop:12},children:[a.games.map(e=>(0,n.jsxs)("div",{style:{border:"1px solid #e5e5e5",padding:12,borderRadius:10},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[(0,n.jsx)("strong",{children:e.id}),(0,n.jsxs)("span",{children:["Host: ",e.host]}),(0,n.jsxs)("span",{children:["Status: ",e.status]}),(0,n.jsxs)("span",{children:["Players: ",e.players.length,"/",e.maxPlayers]}),(0,n.jsxs)("span",{children:["Cards/player: ",e.cardsPerPlayer]}),(0,n.jsxs)("span",{children:["Target score: ",e.targetScore]}),(0,n.jsx)("div",{style:{flex:1}}),(0,n.jsx)("button",{onClick:()=>m(e.id),disabled:"WAITING"!==e.status,children:"Join"})]}),e.players.length>0&&(0,n.jsxs)("div",{style:{opacity:.8,marginTop:8},children:["Players: ",e.players.join(", ")]})]},e.id)),0===a.games.length&&(0,n.jsx)("p",{style:{opacity:.7},children:"No games yet."})]})]})}},1163:function(e,s,a){e.exports=a(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);